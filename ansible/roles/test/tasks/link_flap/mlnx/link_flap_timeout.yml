- fail: msg="sonic_hwsku is not defined"
  when: "sonic_hwsku is not defined"

- fail: msg="{{ item }} is not defined"
  when: "{{ item }} is not defined"
  with_items:
    - mellanox_spc1_hwskus
    - mellanox_spc2_hwskus

- name: Set Mellanox SPC-1 custom link timeout
  set_fact:
    link_timeout: 30
  when: sonic_hwsku in mellanox_spc1_hwskus

- name: Set Mellanox SPC-2 custom link timeout
  set_fact:
    link_timeout: 90
  when: sonic_hwsku in mellanox_spc2_hwskus

- name: Set Mellanox SN3800 custom link timeout
  set_fact:
    link_timeout: 300
  when: sonic_hwsku == 'ACS-MSN3800'
